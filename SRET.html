<!doctype html> <html lang="en"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1"/> <title>SRET - Yes/No</title> <style> :root { --bg: #d9d9d9; /* gray background */ --fg: #111111; /* black text */ --barbg: #bdbdbd; --barfg: #2b2b2b; } html, body { height:100%; margin:0; font-family: Arial, Helvetica, sans-serif; background:var(--bg); color:var(--fg); } .wrap { height:100%; display:flex; align-items:center; justify-content:center; padding:24px; box-sizing:border-box; } .card { width:min(900px, 96vw); background:rgba(255,255,255,0.5); border:2px solid rgba(0,0,0,0.15); border-radius:18px; padding:34px; box-sizing:border-box; } /* Wide progress line at top (no numbers) */ .progressOuter { width: 100%; height: 16px; background: var(--barbg); border-radius: 999px; overflow: hidden; border: 2px solid rgba(0,0,0,0.15); margin-bottom: 26px; } .progressInner { height: 100%; width: 0%; background: var(--barfg); } h1 { margin:0 0 14px; font-size:34px; } p { margin:12px 0; font-size:22px; line-height:1.4; } .center { text-align:center; } .stim { font-size:72px; font-weight:700; margin:26px 0 18px; } .fix { font-size:92px; font-weight:700; margin:26px 0; } .row { display:flex; gap:18px; justify-content:center; flex-wrap:wrap; margin-top:18px; } button { appearance:none; border: 2px solid rgba(0,0,0,0.25); border-radius: 14px; padding: 16px 26px; font-size: 24px; background: rgba(255,255,255,0.8); color: var(--fg); cursor: pointer; min-width: 160px; } button:hover { border-color: rgba(0,0,0,0.55); } button:disabled { opacity:0.5; cursor:not-allowed; } .kbd { display:inline-block; padding: 2px 10px; border-radius: 10px; border: 2px solid rgba(0,0,0,0.25); background: rgba(255,255,255,0.65); font-size: 20px; font-weight: 700; } .hidden { display:none; } </style> </head> <body> <div class="wrap"> <div class="card" id="screen-instructions"> <h1>Task Instructions</h1> <p> You are going to engage in a task. You will be presented with a series of traits. For each trait, please make a <b>Yes</b> or <b>No</b> decision: does it describe you or not? </p> <p> You can respond using the buttons, or with the keyboard: <span class="kbd">V</span> = Yes, <span class="kbd">N</span> = No. </p> <div class="row"> <button id="btn-start">Start</button> </div> </div> <div class="card hidden" id="screen-task"> <div class="progressOuter" aria-label="progress bar"> <div class="progressInner" id="progress-bar"></div> </div> <div class="center"> <div id="stimulus" class="stim"></div> <div id="fixation" class="fix hidden">+</div> <div class="row" id="response-buttons"> <button id="btn-yes">Yes (V)</button> <button id="btn-no">No (N)</button> </div> </div> </div> <div class="card hidden" id="screen-finish"> <h1>You completed the Task!</h1> <p>Now you will be asked to complete a short set of questionnaires.</p> <p class="center" style="font-size:20px; margin-top:22px;"> Please waitâ€¦ </p> </div> </div> <script> // ---------------------------- // Traits // ---------------------------- const TRAITS = [ "Affectionate","Caring","Communicative","Warm","Polite","Outgoing","Open","Loyal", "Sociable","Supportive","Sympathetic","Tolerant","Trustworthy","Understanding", "Altruistic","Fair","Friendly","Helpful","Honest","Considerate","Moral","Reliable", "Conscientious","Agreeable","Able","Ambitious","Assertive","Capable","Competent", "Active","Determined","Confident","Vigorous","Intelligent","Strong","Creative", "Persistent","Rational","Self-reliant","Independent","Industrious","Energetic", "Prominent","Successful","Leader","Influential","Charismatic","Enthusiastic" ]; const FIXATION_MS = 500; // 0.5 sec gap with "+" // ---------------------------- // Helpers // ---------------------------- function shuffle(arr) { const a = arr.slice(); for (let i = a.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [a[i], a[j]] = [a[j], a[i]]; } return a; } function nowMs() { return performance.now(); } // ---------------------------- // DOM // ---------------------------- const scrInstr = document.getElementById("screen-instructions"); const scrTask = document.getElementById("screen-task"); const scrDone = document.getElementById("screen-finish"); const btnStart = document.getElementById("btn-start"); const btnYes = document.getElementById("btn-yes"); const btnNo = document.getElementById("btn-no"); const stimEl = document.getElementById("stimulus"); const fixEl = document.getElementById("fixation"); const progBar = document.getElementById("progress-bar"); function show(screen) { scrInstr.classList.add("hidden"); scrTask.classList.add("hidden"); scrDone.classList.add("hidden"); screen.classList.remove("hidden"); } function renderStimulus(text) { stimEl.textContent = text; stimEl.classList.remove("hidden"); fixEl.classList.add("hidden"); } function renderFixation() { stimEl.classList.add("hidden"); fixEl.classList.remove("hidden"); } function setButtonsEnabled(enabled) { btnYes.disabled = !enabled; btnNo.disabled = !enabled; } function setProgress(curIndex, total) { const pct = total ? (curIndex / total) * 100 : 0; progBar.style.width = pct + "%"; } // ---------------------------- // State / Logging // ---------------------------- const sessionId = (crypto.randomUUID ? crypto.randomUUID() : String(Date.now())); let trials = []; let tIndex = -1; let currentTrait = null; let stimOnset = null; let accepting = false; // This is what we will send to Qualtrics const taskLog = { task: "SRET", version: "sret_v1_yesno_vn_progress_only", session_id: sessionId, started_iso: null, finished_iso: null, n_trials: null, fixation_ms: FIXATION_MS, trials: [] // each row appended per trial }; function startTask() { trials = shuffle(TRAITS); tIndex = -1; taskLog.started_iso = new Date().toISOString(); taskLog.trials = []; show(scrTask); nextTrial(); } function nextTrial() { tIndex += 1; // update progress to reflect how many completed setProgress(tIndex, trials.length); if (tIndex >= trials.length) { finishTask(); return; } currentTrait = trials[tIndex]; renderStimulus(currentTrait); stimOnset = nowMs(); accepting = true; setButtonsEnabled(true); } function handleResponse(resp) { if (!accepting) return; accepting = false; setButtonsEnabled(false); const rtMs = Math.round(nowMs() - stimOnset); taskLog.trials.push({ trial_index: tIndex + 1, trait: currentTrait, response: resp, // "Yes" / "No" rt_ms: rtMs, stimulus_onset_iso: new Date().toISOString() }); renderFixation(); window.setTimeout(() => nextTrial(), FIXATION_MS); } function finishTask() { taskLog.finished_iso = new Date().toISOString(); taskLog.n_trials = trials.length; // show final screen show(scrDone); // Send log to parent (Qualtrics) and let Qualtrics advance // IMPORTANT: you can restrict targetOrigin to your Qualtrics domain if you want window.parent.postMessage( { type: "SRET_Log_v1", taskLog: taskLog }, "*" ); } // ---------------------------- // Events // ---------------------------- btnStart.addEventListener("click", startTask); btnYes.addEventListener("click", () => handleResponse("Yes")); btnNo.addEventListener("click", () => handleResponse("No")); window.addEventListener("keydown", (e) => { if (scrTask.classList.contains("hidden")) return; if (!accepting) return; const k = e.key.toLowerCase(); if (k === "v") handleResponse("Yes"); if (k === "n") handleResponse("No"); }); // Initial show(scrInstr); </script> </body> </html>
